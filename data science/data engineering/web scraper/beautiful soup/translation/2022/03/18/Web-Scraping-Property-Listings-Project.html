<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Web Scraping Property Listings Project Using Beautiful Soup | Mladen Tsolov Portfolio</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Web Scraping Property Listings Project Using Beautiful Soup" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Project I made to collect data from famous Bulgarian property listings webpage." />
<meta property="og:description" content="Project I made to collect data from famous Bulgarian property listings webpage." />
<link rel="canonical" href="https://mrt5010v.github.io/Fastpages-Portfolio/data%20science/data%20engineering/web%20scraper/beautiful%20soup/translation/2022/03/18/Web-Scraping-Property-Listings-Project.html" />
<meta property="og:url" content="https://mrt5010v.github.io/Fastpages-Portfolio/data%20science/data%20engineering/web%20scraper/beautiful%20soup/translation/2022/03/18/Web-Scraping-Property-Listings-Project.html" />
<meta property="og:site_name" content="Mladen Tsolov Portfolio" />
<meta property="og:image" content="https://mrt5010v.github.io/Fastpages-Portfolio/images/WebScraper.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-03-18T00:00:00-05:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://mrt5010v.github.io/Fastpages-Portfolio/images/WebScraper.png" />
<meta property="twitter:title" content="Web Scraping Property Listings Project Using Beautiful Soup" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-03-18T00:00:00-05:00","datePublished":"2022-03-18T00:00:00-05:00","description":"Project I made to collect data from famous Bulgarian property listings webpage.","headline":"Web Scraping Property Listings Project Using Beautiful Soup","image":"https://mrt5010v.github.io/Fastpages-Portfolio/images/WebScraper.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://mrt5010v.github.io/Fastpages-Portfolio/data%20science/data%20engineering/web%20scraper/beautiful%20soup/translation/2022/03/18/Web-Scraping-Property-Listings-Project.html"},"url":"https://mrt5010v.github.io/Fastpages-Portfolio/data%20science/data%20engineering/web%20scraper/beautiful%20soup/translation/2022/03/18/Web-Scraping-Property-Listings-Project.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/Fastpages-Portfolio/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://mrt5010v.github.io/Fastpages-Portfolio/feed.xml" title="Mladen Tsolov Portfolio" /><link rel="shortcut icon" type="image/x-icon" href="/Fastpages-Portfolio/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/Fastpages-Portfolio/">Mladen Tsolov Portfolio</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Fastpages-Portfolio/about/">About Me</a><a class="page-link" href="/Fastpages-Portfolio/search/">Search</a><a class="page-link" href="/Fastpages-Portfolio/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Web Scraping Property Listings Project Using Beautiful Soup</h1><p class="page-description">Project I made to collect data from famous Bulgarian property listings webpage.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-03-18T00:00:00-05:00" itemprop="datePublished">
        Mar 18, 2022
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      44 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/Fastpages-Portfolio/categories/#Data Science">Data Science</a>
        &nbsp;
      
        <a class="category-tags-link" href="/Fastpages-Portfolio/categories/#Data Engineering">Data Engineering</a>
        &nbsp;
      
        <a class="category-tags-link" href="/Fastpages-Portfolio/categories/#Web Scraper">Web Scraper</a>
        &nbsp;
      
        <a class="category-tags-link" href="/Fastpages-Portfolio/categories/#Beautiful Soup">Beautiful Soup</a>
        &nbsp;
      
        <a class="category-tags-link" href="/Fastpages-Portfolio/categories/#Translation">Translation</a>
        
      
      </p>
    

    
      
        <div class="pb-5 d-flex flex-justify-center">
          <div class="px-2">

    <a href="https://github.com/mrt5010v/Fastpages-Portfolio/tree/master/_notebooks/Web-Scraping-Property-Listings-Project.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/Fastpages-Portfolio/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/mrt5010v/Fastpages-Portfolio/master?filepath=_notebooks%2FWeb-Scraping-Property-Listings-Project.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/Fastpages-Portfolio/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/mrt5010v/Fastpages-Portfolio/blob/master/_notebooks/Web-Scraping-Property-Listings-Project.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/Fastpages-Portfolio/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
          <div class="px-2">
  <a href="https://deepnote.com/launch?url=https%3A%2F%2Fgithub.com%2Fmrt5010v%2FFastpages-Portfolio%2Fblob%2Fmaster%2F_notebooks%2FWeb-Scraping-Property-Listings-Project.ipynb" target="_blank">
      <img class="notebook-badge-image" src="/Fastpages-Portfolio/assets/badges/deepnote.svg" alt="Launch in Deepnote"/>
  </a>
</div>

        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/Web-Scraping-Property-Listings-Project.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="This-Jupyter-notebook-has-been-made-by-Mladen-Tsolov">This Jupyter notebook has been made by Mladen Tsolov<a class="anchor-link" href="#This-Jupyter-notebook-has-been-made-by-Mladen-Tsolov"> </a></h4><h4 id="I-have-written-important-information-in-the-beginning-of-this-project-that-is-crucial-before-we-get-into-a-web-scraping-of-a-website.-Please-take-your-time-to-read-it-and-do-not-ignore-it,-because-a-web-scraping-can-lead-to-breaking-the-law.">I have written important information in the beginning of this project that is crucial before we get into a web scraping of a website. Please take your time to read it and do not ignore it, because a web scraping can lead to breaking the law.<a class="anchor-link" href="#I-have-written-important-information-in-the-beginning-of-this-project-that-is-crucial-before-we-get-into-a-web-scraping-of-a-website.-Please-take-your-time-to-read-it-and-do-not-ignore-it,-because-a-web-scraping-can-lead-to-breaking-the-law."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="General-information">General information<a class="anchor-link" href="#General-information"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="In-this-Jupyter-notebook-we-will-be-doing-web-scraping-of-a-Bulgarian-website-for-properties.">In this Jupyter notebook we will be doing web scraping of a Bulgarian website for properties.<a class="anchor-link" href="#In-this-Jupyter-notebook-we-will-be-doing-web-scraping-of-a-Bulgarian-website-for-properties."> </a></h4><h4 id="After-we-collect-the-data-we-will-inspect-it-in-more-details.">After we collect the data we will inspect it in more details.<a class="anchor-link" href="#After-we-collect-the-data-we-will-inspect-it-in-more-details."> </a></h4><h4 id="But-before-we-begin-we-have-to-make-sure-that-the-website-allows-web-scraping.-Some-websites-do-not-allow-it-and-we-can-break-the-law-if-we-collect-data-without-permission.">But before we begin we have to make sure that the website allows web scraping. Some websites do not allow it and we can break the law if we collect data without permission.<a class="anchor-link" href="#But-before-we-begin-we-have-to-make-sure-that-the-website-allows-web-scraping.-Some-websites-do-not-allow-it-and-we-can-break-the-law-if-we-collect-data-without-permission."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="It-is-not-very-hard-to-see-if-a-website-allows-web-scraping.-All-we-have-to-do-is-to-append-'/robots.txt'-to-the-main-website-url:">It is not very hard to see if a website allows web scraping. All we have to do is to append '/robots.txt' to the main website url:<a class="anchor-link" href="#It-is-not-very-hard-to-see-if-a-website-allows-web-scraping.-All-we-have-to-do-is-to-append-'/robots.txt'-to-the-main-website-url:"> </a></h4><h4 id="https://www.imot.bg/robots.txt"><a href="https://www.imot.bg/robots.txt">https://www.imot.bg/robots.txt</a><a class="anchor-link" href="#https://www.imot.bg/robots.txt"> </a></h4><h4 id="The-result-that-we-get-is:">The result that we get is:<a class="anchor-link" href="#The-result-that-we-get-is:"> </a></h4><h4 id="Sitemap:-https://www.imot.bg/sitemap/index.xml">Sitemap: <a href="https://www.imot.bg/sitemap/index.xml">https://www.imot.bg/sitemap/index.xml</a><a class="anchor-link" href="#Sitemap:-https://www.imot.bg/sitemap/index.xml"> </a></h4><h4 id="User-agent:-*-------------------------for-all-users-using-the-website">User-agent: *                      -  for all users using the website<a class="anchor-link" href="#User-agent:-*-------------------------for-all-users-using-the-website"> </a></h4><h4 id="Disallow:-------------------------------it-is-left-empty,-which-means-that-nothing-is-restricted">Disallow:                             - it is left empty, which means that nothing is restricted<a class="anchor-link" href="#Disallow:-------------------------------it-is-left-empty,-which-means-that-nothing-is-restricted"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="-"> <a class="anchor-link" href="#-"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Information-about-the-website.">Information about the website.<a class="anchor-link" href="#Information-about-the-website."> </a></h2><h4 id="The-website-that-we-will-use-in-this-example-is-only-in-Bulgarian-language.-It-has-many-sections-like:-Buying,-Selling,-Renting,-Looking-for-new-built-properties-and-many-more.">The website that we will use in this example is only in Bulgarian language. It has many sections like: Buying, Selling, Renting, Looking for new built properties and many more.<a class="anchor-link" href="#The-website-that-we-will-use-in-this-example-is-only-in-Bulgarian-language.-It-has-many-sections-like:-Buying,-Selling,-Renting,-Looking-for-new-built-properties-and-many-more."> </a></h4><h4 id="In-order-to-navigate-within-the-website-you-can-right-click-on-it-and-select:-'Translate-to-English'">In order to navigate within the website you can right click on it and select: 'Translate to English'<a class="anchor-link" href="#In-order-to-navigate-within-the-website-you-can-right-click-on-it-and-select:-'Translate-to-English'"> </a></h4><h4 id="Imot.bg-lists-properties-predominantly-in-Bulgaria-and-Greece,-whereas-http://worldwide-search.imot.bg/-has-listings-all-over-the-world.">Imot.bg lists properties predominantly in Bulgaria and Greece, whereas <a href="http://worldwide-search.imot.bg/">http://worldwide-search.imot.bg/</a> has listings all over the world.<a class="anchor-link" href="#Imot.bg-lists-properties-predominantly-in-Bulgaria-and-Greece,-whereas-http://worldwide-search.imot.bg/-has-listings-all-over-the-world."> </a></h4><h4 id="In-this-example-we-will-focus-only-on-https://www.imot.bg/----(imot-means-property)">In this example we will focus only on <a href="https://www.imot.bg/">https://www.imot.bg/</a>    (imot means property)<a class="anchor-link" href="#In-this-example-we-will-focus-only-on-https://www.imot.bg/----(imot-means-property)"> </a></h4><h4 id="The-main-page-shows-us-the-Bulgarian-municipalities-borders">The main page shows us the Bulgarian municipalities borders<a class="anchor-link" href="#The-main-page-shows-us-the-Bulgarian-municipalities-borders"> </a></h4><h4 id="Clicking-on-one-of-them-will-trigger-a-search-window-like-the-one-given-here:">Clicking on one of them will trigger a search window like the one given here:<a class="anchor-link" href="#Clicking-on-one-of-them-will-trigger-a-search-window-like-the-one-given-here:"> </a></h4><h4 id="https-://ww-w.im-ot.bg/pcgi/imot.cgi?act=3&amp;slink=--7hou98--&amp;f1=1">https ://ww w.im ot.bg/pcgi/imot.cgi?act=3&amp;slink=  7hou98  &amp;f1=1<a class="anchor-link" href="#https-://ww-w.im-ot.bg/pcgi/imot.cgi?act=3&amp;slink=--7hou98--&amp;f1=1"> </a></h4><h4 id="PLEASE-NOTE:-The-reason-why-I-have-put-spaces-in-the-link-above-is,-because-in-time-it-will-not-work,-because-the-code-for-the-municipality-will-be-changed.">PLEASE NOTE: The reason why I have put spaces in the link above is, because in time it will not work, because the code for the municipality will be changed.<a class="anchor-link" href="#PLEASE-NOTE:-The-reason-why-I-have-put-spaces-in-the-link-above-is,-because-in-time-it-will-not-work,-because-the-code-for-the-municipality-will-be-changed."> </a></h4><h4 id="7hou98---is-the-code-for-the-municipality-(please-note-that-the-code-changes-with-time)">7hou98 - is the code for the municipality (please note that the code changes with time)<a class="anchor-link" href="#7hou98---is-the-code-for-the-municipality-(please-note-that-the-code-changes-with-time)"> </a></h4><h4 id="=1---that-is-the-current-page-(=0-and-=1-yeald-same-result)">=1 - that is the current page (=0 and =1 yeald same result)<a class="anchor-link" href="#=1---that-is-the-current-page-(=0-and-=1-yeald-same-result)"> </a></h4><h4 id="Each-municipality-page-has-exactly-40-property-results-and-25-pages-of-results.">Each municipality page has exactly 40 property results and 25 pages of results.<a class="anchor-link" href="#Each-municipality-page-has-exactly-40-property-results-and-25-pages-of-results."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Having-said-that-there-is-a-bit-more-preparation-that-we-need-to-do.">Having said that there is a bit more preparation that we need to do.<a class="anchor-link" href="#Having-said-that-there-is-a-bit-more-preparation-that-we-need-to-do."> </a></h4><h4 id="We-have-to-make-sure-that-the-webpage-link-is-in-the-right-format-like-the-one-below:">We have to make sure that the webpage link is in the right format like the one below:<a class="anchor-link" href="#We-have-to-make-sure-that-the-webpage-link-is-in-the-right-format-like-the-one-below:"> </a></h4><h4 id="https-://ww-w.im-ot.bg/pcgi/imot.cgi?act=3&amp;slink=--7hou98--&amp;f1=1">https ://ww w.im ot.bg/pcgi/imot.cgi?act=3&amp;slink=  7hou98  &amp;f1=1<a class="anchor-link" href="#https-://ww-w.im-ot.bg/pcgi/imot.cgi?act=3&amp;slink=--7hou98--&amp;f1=1"> </a></h4><h4 id="We-can-see-that-it-ends-with-'=1',-that-means-if-I-wanted-to-see-the-second-page-I-can-change-the-1-with-2-and-it-will-open-the-second-page.">We can see that it ends with '=1', that means if I wanted to see the second page I can change the 1 with 2 and it will open the second page.<a class="anchor-link" href="#We-can-see-that-it-ends-with-'=1',-that-means-if-I-wanted-to-see-the-second-page-I-can-change-the-1-with-2-and-it-will-open-the-second-page."> </a></h4><h4 id="In-order-to-navigate-in-the-webpage-and-find-the-relevant-information-that-we-would-like-to-scrape-we-have-'inspect'-it-by-right-clicking-anywhere-in-the-webpage-and-pressing-'view-page-source'-or-'inspect'.-In-that-way-we-can-see-the-separate-objects/tags-and-tables-that-combined-together-form-the-webpage-that-we-see.-Furthermore-we-can-use-'Ctrl-+-F',-which-opens-a-search-window-with-the-help-of-which-we-can-find-information-faster.">In order to navigate in the webpage and find the relevant information that we would like to scrape we have 'inspect' it by right clicking anywhere in the webpage and pressing 'view page source' or 'inspect'. In that way we can see the separate objects/tags and tables that combined together form the webpage that we see. Furthermore we can use 'Ctrl + F', which opens a search window with the help of which we can find information faster.<a class="anchor-link" href="#In-order-to-navigate-in-the-webpage-and-find-the-relevant-information-that-we-would-like-to-scrape-we-have-'inspect'-it-by-right-clicking-anywhere-in-the-webpage-and-pressing-'view-page-source'-or-'inspect'.-In-that-way-we-can-see-the-separate-objects/tags-and-tables-that-combined-together-form-the-webpage-that-we-see.-Furthermore-we-can-use-'Ctrl-+-F',-which-opens-a-search-window-with-the-help-of-which-we-can-find-information-faster."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="How-the-information-that-we-will-scrape-looks-like?">How the information that we will scrape looks like?<a class="anchor-link" href="#How-the-information-that-we-will-scrape-looks-like?"> </a></h2><h4 id="The-information-is-&quot;hidden&quot;-in-tags-(from-HTML).-Tags-are-information-containers-used-in-websites.">The information is "hidden" in tags (from HTML). Tags are information containers used in websites.<a class="anchor-link" href="#The-information-is-&quot;hidden&quot;-in-tags-(from-HTML).-Tags-are-information-containers-used-in-websites."> </a></h4><h4 id="In-this-cell-we-can-see-one-table-tag-that-has-all-the-information-that-we-need.-The-majority-of-that-table-tag-is-deleted-for-clarity.">In this cell we can see one table tag that has all the information that we need. The majority of that table tag is deleted for clarity.<a class="anchor-link" href="#In-this-cell-we-can-see-one-table-tag-that-has-all-the-information-that-we-need.-The-majority-of-that-table-tag-is-deleted-for-clarity."> </a></h4><h4 id="table-tag---depending-on-the-property-the-style-of-this-tag-can-vary.-It-can-be-ordinary-listing,-vip-listing-or-top-listing.-This-table-tag-represents-a-single-property-listing.-Within-it-we-can-gather-additional-information.">table tag - depending on the property the style of this tag can vary. It can be ordinary listing, vip listing or top listing. This table tag represents a single property listing. Within it we can gather additional information.<a class="anchor-link" href="#table-tag---depending-on-the-property-the-style-of-this-tag-can-vary.-It-can-be-ordinary-listing,-vip-listing-or-top-listing.-This-table-tag-represents-a-single-property-listing.-Within-it-we-can-gather-additional-information."> </a></h4><p>table width="660" cellspacing="0" cellpadding="0" border="0" style="margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/top_bg.gif); background-position:bottom; background-repeat:repeat-x;"</p>
<h4 id="td-tag---we-can-get-information-about-the-location-and-the-number-of-rooms-of-the-property.-It-is-a-bit-tricky-to-get-to-the-information-hidden-in-the-'alt'-parameter-(Someone-made-mistake-with-the-number-of-rooms-for-this-listing,-in-the-tags-below-it-is-said-that-it-is-one-bedroom-apartment).">td tag - we can get information about the location and the number of rooms of the property. It is a bit tricky to get to the information hidden in the 'alt' parameter (Someone made mistake with the number of rooms for this listing, in the tags below it is said that it is one bedroom apartment).<a class="anchor-link" href="#td-tag---we-can-get-information-about-the-location-and-the-number-of-rooms-of-the-property.-It-is-a-bit-tricky-to-get-to-the-information-hidden-in-the-'alt'-parameter-(Someone-made-mistake-with-the-number-of-rooms-for-this-listing,-in-the-tags-below-it-is-said-that-it-is-one-bedroom-apartment)."> </a></h4><p>td  a class="photoLink"
      img src="" style="object-fit: cover;" width="200" height="150" border="0" 
      alt="2-bedroom apartment for sale, Gorna Oryahovitsa, Veliko Tarnovo region"</p>
<h4 id="div-tag---We-can-get-the-price-of-the-property-using-the-class-of-the-div">div tag - We can get the price of the property using the class of the div<a class="anchor-link" href="#div-tag---We-can-get-the-price-of-the-property-using-the-class-of-the-div"> </a></h4><p>div class="price"  img  BGN 58,000</p>
<h4 id="a-tag-or-link-tag---Number-of-rooms,-using-the-class">a tag or link tag - Number of rooms, using the class<a class="anchor-link" href="#a-tag-or-link-tag---Number-of-rooms,-using-the-class"> </a></h4><p>a href="" class="lnk1" One-bedroom apartment for sale in</p>
<h4 id="a-tag-or-link-tag---Location,-using-the-class">a tag or link tag - Location, using the class<a class="anchor-link" href="#a-tag-or-link-tag---Location,-using-the-class"> </a></h4><p>a href="" class="lnk2" Gorna Oryahovitsa, Veliko Tarnovo region</p>
<h4 id="td-tag---Additional-information-about-the-listing">td tag - Additional information about the listing<a class="anchor-link" href="#td-tag---Additional-information-about-the-listing"> </a></h4><p>td width="520" colspan="3" height="50" style="padding-left:4px"
      69 sq.m, Prolet quarter, ONE BEDROOM APARTMENT EXCLUSIVELY! WE ARE WITH THE KEY! style="vertical-align: inherit;"&gt;
      Property Tarnovgrad offers one-bedroom panel apartment ..., tel .: 089</p>
<h4 id="All-the-tags-above-are-for-one-property-listing.">All the tags above are for one property listing.<a class="anchor-link" href="#All-the-tags-above-are-for-one-property-listing."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Language-and-translation">Language and translation<a class="anchor-link" href="#Language-and-translation"> </a></h2><h4 id="The-Imot.bg-website-is-in-Bulgarian.-There-are-ways-to-convert-the-information-into-English.">The Imot.bg website is in Bulgarian. There are ways to convert the information into English.<a class="anchor-link" href="#The-Imot.bg-website-is-in-Bulgarian.-There-are-ways-to-convert-the-information-into-English."> </a></h4><h4 id="One-is-to-use-Module-that-will-translate-the-information-into-this-notebook---googletrans-or-googletrans-new-(I-used-google-trans-new).">One is to use Module that will translate the information into this notebook - googletrans or googletrans new (I used google trans new).<a class="anchor-link" href="#One-is-to-use-Module-that-will-translate-the-information-into-this-notebook---googletrans-or-googletrans-new-(I-used-google-trans-new)."> </a></h4><h4 id="Other-is-to-scrape-the-website,-save-the-dataframe-as-CSV-file-and-then-translate-the-file-with-Google-Translate.">Other is to scrape the website, save the dataframe as CSV file and then translate the file with Google Translate.<a class="anchor-link" href="#Other-is-to-scrape-the-website,-save-the-dataframe-as-CSV-file-and-then-translate-the-file-with-Google-Translate."> </a></h4><h4 id="I-will-do-both-and-compare-them-to-see-which-one-is-better.">I will do both and compare them to see which one is better.<a class="anchor-link" href="#I-will-do-both-and-compare-them-to-see-which-one-is-better."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Actual-Web-scraping">Actual Web scraping<a class="anchor-link" href="#Actual-Web-scraping"> </a></h2><h4 id="Plan-of-action.">Plan of action.<a class="anchor-link" href="#Plan-of-action."> </a></h4><h4 id="We-will-first-do-web-scraping-to-see-how-it-works-and-later-on-we-will-translate-the-results.-I-will-try-to-explain-along-the-way-where-needed.">We will first do web scraping to see how it works and later on we will translate the results. I will try to explain along the way where needed.<a class="anchor-link" href="#We-will-first-do-web-scraping-to-see-how-it-works-and-later-on-we-will-translate-the-results.-I-will-try-to-explain-along-the-way-where-needed."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">urllib.request</span>

<span class="c1"># Libraries for Data Processing</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Library for translation into English</span>
<span class="kn">from</span> <span class="nn">google_trans_new</span> <span class="kn">import</span> <span class="n">google_translator</span> 

<span class="c1"># The two lines below allow us to see all the columns without truncation.</span>
<span class="c1"># It allows us to see the dataset better.</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_columns</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="As-mentioned-before-it-is-interesting-to-see-that-'=0'-gives-the-same-result-as-'=1'-(that-was-for-the-page-number).-We-do-not-want-repetitions,-so-we-will-start-with-'=1'.-We-can-define-a-variable-called-'url'-that-will-store-string-with-the-website's-address.">As mentioned before it is interesting to see that '=0' gives the same result as '=1' (that was for the page number). We do not want repetitions, so we will start with '=1'. We can define a variable called 'url' that will store string with the website's address.<a class="anchor-link" href="#As-mentioned-before-it-is-interesting-to-see-that-'=0'-gives-the-same-result-as-'=1'-(that-was-for-the-page-number).-We-do-not-want-repetitions,-so-we-will-start-with-'=1'.-We-can-define-a-variable-called-'url'-that-will-store-string-with-the-website's-address."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="We-can-define-a-function-called-'connection'-that-will-make-the-connection-between-us-and-the-website-and-will-return-number,-which-will-tell-us-if-it-was-sucessful.">We can define a function called 'connection' that will make the connection between us and the website and will return number, which will tell us if it was sucessful.<a class="anchor-link" href="#We-can-define-a-function-called-'connection'-that-will-make-the-connection-between-us-and-the-website-and-will-return-number,-which-will-tell-us-if-it-was-sucessful."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">connection</span><span class="p">(</span><span class="n">page</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to change the number of the page from the link.</span>
<span class="sd">    So after we finish with collecting the data from page 1, we can continue to page 2</span>
<span class="sd">    of that webpage and so on.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># https://router-network.com/tools/what-is-my-user-agent    -&gt; to find the &#39;user agent&#39;</span>
    <span class="c1"># Or google -&gt; &#39;what is my user agent&#39;</span>
    <span class="c1"># &#39;user agent&#39; is a mediator between the user and the internet it holds technical information</span>
    <span class="c1"># About the device (the computer used) and the software</span>
    <span class="c1"># The &#39;user agent&#39; is unique for every person on the internet</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&#39;</span><span class="p">}</span>
    
    <span class="c1"># F-string in which we can change the number of the page</span>
    <span class="c1"># Note that &#39;page&#39; in the f-string is the parameter of the function</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://www.imot.bg/pcgi/imot.cgi?act=3&amp;slink=7o949b&amp;f1=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
    
    <span class="c1"># Checks if there is a connection between the user and the webpage</span>
    <span class="k">return</span> <span class="n">r</span><span class="o">.</span><span class="n">status_code</span>

<span class="nb">print</span><span class="p">(</span><span class="n">connection</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>

<span class="c1"># https://developer.mozilla.org/en-US/docs/Web/HTTP/Status</span>
<span class="c1"># Informational responses (100–199)</span>
<span class="c1"># Successful responses (200–299)</span>
<span class="c1"># Redirection messages (300–399)</span>
<span class="c1"># Client error responses (400–499)</span>
<span class="c1"># Server error responses (500–599)</span>

<span class="c1"># If we get 200 in return then all is working fine.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>200
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="In-the-cell-above,-where-I-wrote-about-the-tags-I-mentioned-about-'div'-tag-that-has-stored-the-price-of-the-property.-We-can-use-it-to-count-the-number-of-properties-for-a-single-page--&gt;--div-class=&quot;price&quot;--img--BGN-58,000">In the cell above, where I wrote about the tags I mentioned about 'div' tag that has stored the price of the property. We can use it to count the number of properties for a single page -&gt;  div class="price"  img  BGN 58,000<a class="anchor-link" href="#In-the-cell-above,-where-I-wrote-about-the-tags-I-mentioned-about-'div'-tag-that-has-stored-the-price-of-the-property.-We-can-use-it-to-count-the-number-of-properties-for-a-single-page--&gt;--div-class=&quot;price&quot;--img--BGN-58,000"> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extract</span><span class="p">(</span><span class="n">page</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to change the number of the page from the link.</span>
<span class="sd">    So after we finish with collecting the data from page 1, we can continue to page 2</span>
<span class="sd">    of that webpage and so on.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># https://router-network.com/tools/what-is-my-user-agent    -&gt; to find the &#39;user agent&#39;</span>
    <span class="c1"># or google -&gt; &#39;what is my user agent&#39;</span>
    <span class="c1"># &#39;user agent&#39; is a mediator between the user and the internet it holds technical information</span>
    <span class="c1"># about the device (the computer used) and the software</span>
    <span class="c1"># the &#39;user agent&#39; is unique for every person on the internet</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&#39;</span><span class="p">}</span>
    
    <span class="c1"># f-string in which we can change the number of the page</span>
    <span class="c1"># note that &#39;page&#39; in the f-string is the parameter of the function</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://www.imot.bg/pcgi/imot.cgi?act=3&amp;slink=7o949b&amp;f1=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
    
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">soup</span>


<span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to find and collect information.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">divs</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">divs</span><span class="p">)</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">transform</span><span class="p">(</span><span class="n">search</span><span class="p">))</span>

<span class="c1"># we get as a result 40</span>
<span class="c1"># that is the number of property listings per page</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>40
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="If-the-result-is-0,-that-means-that-the-code-for-the-municipality-is-changed-and-that-is-the-main-reason.-We-should-get-40-as-a-result.">If the result is 0, that means that the code for the municipality is changed and that is the main reason. We should get 40 as a result.<a class="anchor-link" href="#If-the-result-is-0,-that-means-that-the-code-for-the-municipality-is-changed-and-that-is-the-main-reason.-We-should-get-40-as-a-result."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="We-can-use-the-code-for-the-extract-function-from-the-cell-above.-In-that-way-we-can-focus-on-the-new-lines-of-code.">We can use the code for the extract function from the cell above. In that way we can focus on the new lines of code.<a class="anchor-link" href="#We-can-use-the-code-for-the-extract-function-from-the-cell-above.-In-that-way-we-can-focus-on-the-new-lines-of-code."> </a></h4><h4 id="From-the-cell-above-we-can-see-that-we-get-40-as-a-result,-that-is-the-number-of-the-properties-for-one-page.">From the cell above we can see that we get 40 as a result, that is the number of the properties for one page.<a class="anchor-link" href="#From-the-cell-above-we-can-see-that-we-get-40-as-a-result,-that-is-the-number-of-the-properties-for-one-page."> </a></h4><h4 id="In-the-cell-below-we-will-use-the-same-functions-'extract'-and-'transform'-but-this-time-we-will-collect-the-information-for-one-property-listing.">In the cell below we will use the same functions 'extract' and 'transform' but this time we will collect the information for one property listing.<a class="anchor-link" href="#In-the-cell-below-we-will-use-the-same-functions-'extract'-and-'transform'-but-this-time-we-will-collect-the-information-for-one-property-listing."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">transform_property</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to find and collect information.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">property_info</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    
    <span class="n">price_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">price_div</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    
    <span class="n">rooms_a</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">rooms_a</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> 
    
    <span class="n">location_a</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">location_a</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>    
    
    <span class="n">info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">info</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
  
    
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">price_div</span><span class="p">)</span>

<span class="n">search</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">transform_property</span><span class="p">(</span><span class="n">search</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Обява продава къща, гр. Елена, област Велико Търново
50 000 EUR
Продава КЪЩА
гр. Елена, област Велико Търново
146 кв.м, двор 2200 кв.м, с.Дърлевци, Реновирана къща със съхранени елементи на автентичното строителство, характерно за района от края на ..., тел.: 0887902715
3
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Yey!-We-got-something.">Yey! We got something.<a class="anchor-link" href="#Yey!-We-got-something."> </a></h4><h4 id="It-would-have-been-nice-to-go-to-https://translate.google.com/-.-Paste-the-URL-of-the-website-we-want-translated,-select-to-translate-from-Bulgarian-into-English-and-click-the-URL-on-the-right-hand-site.-We-can-see-that-the-website-is-translated.-We-can-copy-that-link-and-paste-it-as-a-new-value-for-the-'url'-variable-in-'extract'-function.">It would have been nice to go to <a href="https://translate.google.com/">https://translate.google.com/</a> . Paste the URL of the website we want translated, select to translate from Bulgarian into English and click the URL on the right hand site. We can see that the website is translated. We can copy that link and paste it as a new value for the 'url' variable in 'extract' function.<a class="anchor-link" href="#It-would-have-been-nice-to-go-to-https://translate.google.com/-.-Paste-the-URL-of-the-website-we-want-translated,-select-to-translate-from-Bulgarian-into-English-and-click-the-URL-on-the-right-hand-site.-We-can-see-that-the-website-is-translated.-We-can-copy-that-link-and-paste-it-as-a-new-value-for-the-'url'-variable-in-'extract'-function."> </a></h4><h4 id="https-://www--imot-bg-.translate.-goog/pcgi/imot.cgi?act=3&amp;slink=7hzunk&amp;f1=1&amp;_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=en-GB">https ://www- imot-bg .translate. goog/pcgi/imot.cgi?act=3&amp;slink=7hzunk&amp;f1=1&amp;_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=en-GB<a class="anchor-link" href="#https-://www--imot-bg-.translate.-goog/pcgi/imot.cgi?act=3&amp;slink=7hzunk&amp;f1=1&amp;_x_tr_sl=auto&amp;_x_tr_tl=en&amp;_x_tr_hl=en-GB"> </a></h4><h4 id="just-replace-'=1'-with-'={page}'">just replace '=1' with '={page}'<a class="anchor-link" href="#just-replace-'=1'-with-'={page}'"> </a></h4><h4 id="Unfortunately,-it-does-not-work.">Unfortunately, it does not work.<a class="anchor-link" href="#Unfortunately,-it-does-not-work."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="-"> <a class="anchor-link" href="#-"> </a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Each-property-listing-has-a-unique-style-for-the-table-that-contains-the-basic-information-about-it---location,-price-and-general-information.-Depending-on-the-property-there-can-be-three-styles:-Regular,-TOP-and-VIP-listing.">Each property listing has a unique style for the table that contains the basic information about it - location, price and general information. Depending on the property there can be three styles: Regular, TOP and VIP listing.<a class="anchor-link" href="#Each-property-listing-has-a-unique-style-for-the-table-that-contains-the-basic-information-about-it---location,-price-and-general-information.-Depending-on-the-property-there-can-be-three-styles:-Regular,-TOP-and-VIP-listing."> </a></h4><h4 id="We-can-use-them-to-collect-the-information-from-all-listings.">We can use them to collect the information from all listings.<a class="anchor-link" href="#We-can-use-them-to-collect-the-information-from-all-listings."> </a></h4><h4 id="Starting-from-the-cell-below-we-will-focus-on-the-'transform'-function-and-how-to-alter-the-code-in-order-to-make-it-more-functional.">Starting from the cell below we will focus on the 'transform' function and how to alter the code in order to make it more functional.<a class="anchor-link" href="#Starting-from-the-cell-below-we-will-focus-on-the-'transform'-function-and-how-to-alter-the-code-in-order-to-make-it-more-functional."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to find and collect information.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># Finds all &#39;div&#39; tags that store the price for each listing</span>
    <span class="c1"># It is used to locate all the listings on the page</span>
    <span class="n">price_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    
    <span class="c1"># The different styles of the tables that we gather information are defined</span>
    <span class="c1"># One table = one property listing</span>
    <span class="n">style_0</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/top_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span>
    <span class="n">style_1</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/vip_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span>
    <span class="n">style_2</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid;&quot;</span>
  
    <span class="c1"># We can find all tables that have the styles from above</span>
    <span class="n">table_0</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_0</span><span class="p">)</span>
    <span class="n">table_1</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_1</span><span class="p">)</span>
    <span class="n">table_2</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_2</span><span class="p">)</span>
    
    
    <span class="c1"># for loop to collect the listings for tables with style_0</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_0</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_0</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_0</span><span class="p">)</span>
        
          
    <span class="c1"># for loop to collect the listings for tables with style_1    </span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_1</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_1</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_1</span><span class="p">)</span>
        
    <span class="c1"># for loop to collect the listings for tables with style_2</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_2</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_2</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_2</span><span class="p">)</span>
    
    <span class="c1"># This return will show how many listings are with style_0, _1 or _2.</span>
    <span class="c1"># Please note that the sum must be 40</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_0</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_2</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">price_div</span><span class="p">)</span>

<span class="c1"># we create empty list to which we append info</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>


<span class="n">search</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">transform</span><span class="p">(</span><span class="n">search</span><span class="p">))</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">property_list</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">property_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(21, 19, 0, 40)
40
[{&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;50 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;146 кв.м, двор 2200 кв.м, с.Дърлевци, Реновирана къща със съхранени елементи на автентичното строителство, характерно за района от края на ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;65 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;144 кв.м, двор 739 кв.м, с.Граматици, Атрактивен имот в балкана. Двуетажна, частично обзаведена тухлена сграда. Имот с целогодишен достъп  ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;85 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Златарица, област Велико Търново&#39;, &#39;info&#39;: &#39;185 кв.м, двор 613 кв.м, Primo+ Велико Търново Ви предлага просторна и уютна , тухлена къща след тотален ремонт, с   и добро  ..., тел.: 0887177900&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;115 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Павликени, област Велико Търново&#39;, &#39;info&#39;: &#39;123 кв.м, двор 750 кв.м, Имоти Търновград Ви предлага двуетажна ОБЗАВЕДЕНА къща в гр. Павликени. Имотът се намира на тиха, ас ..., тел.: 0885168782&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;5 999 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Полски Тръмбеш, област Велико Търново&#39;, &#39;info&#39;: &#39;140 кв.м, двор 3000 кв.м, село Орловец, Тухлена къща с голям двор 3000 кв.м и стопански постройки в село Орловец на 30 км от Велико Търново  ..., тел.: 0899855101&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;85 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Балван, област Велико Търново&#39;, &#39;info&#39;: &#39;160 кв.м, двор 1250 кв.м, ВИРТУАЛЕН ТУР! ЕКСКЛУЗИВНО! Реновирана двуетажна къща с допълнителни постройки в село Балван Атракти ..., тел.: 0899921394&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;155 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Бръчковци, област Велико Търново&#39;, &#39;info&#39;: &#39;206 кв.м, двор 826 кв.м, На Вашето внимание представяме един изключителен имот в красивият Еленски Балкан, а именно, новопост ..., тел.: 0884905169&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;252 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Бръчковци, област Велико Търново&#39;, &#39;info&#39;: &#39;220 кв.м, двор 900 кв.м, Агенция   Имоти Консулт  предлага имота  разположен в живописния Еленски балкан, на брега на язовир  ..., тел.: 0988871433&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;49 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Джулюница, област Велико Търново&#39;, &#39;info&#39;: &#39;87 кв.м, двор 680 кв.м, Aгенция за недвижими имоти  SUNNY HOMES  предлага за продажба реновирана къща с двор в с. Джулюница. ..., тел.: 0882373785&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;300 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Лагерите, област Велико Търново&#39;, &#39;info&#39;: &#39;1332 кв.м, двор 12400 кв.м, Тухла 1947 г., ЕКСКЛУЗИВНО: ВНУШИТЕЛНА РЕЗИДЕНЦИЯ С ИСТОРИЯ И СТРАТЕГИЧЕСКА ЛОКАЦИЯ -   МЛАДЕЖКИ ЛАГЕР  ХАИНБОАЗ ,  ..., тел.: 0889590019&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;165 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Леденик, област Велико Търново&#39;, &#39;info&#39;: &#34;260 кв.м, двор 488 кв.м, ID:12699 ЕКСКЛУЗИВНО !!! Прекрасен имот с панорамна гледка в предпочитано село!!! &#39;&#39;Ту Бългерия&#39;&#39;- н ..., тел.: 0876 39 54 29&#34;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;27 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Лесичери, област Велико Търново&#39;, &#39;info&#39;: &#39;120 кв.м, двор 550 кв.м, Агенция за недвижими имоти  Акценти Пропъртис  ООД Ви предлагаме хубав и добре поддържан имот, разпо ..., тел.: 0887 573 633&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;33 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Палици, област Велико Търново&#39;, &#39;info&#39;: &#34;120 кв.м, двор 1500 кв.м, ID:20517 &#39;&#39;Ту Бългерия&#39;&#39; недвижими имоти предлага тухлена двуетажна къща с магазин в с.Палици. Селот ..., тел.: 0878 48 47 40&#34;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;160 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Палици, област Велико Търново&#39;, &#39;info&#39;: &#39;300 кв.м, двор 1600 кв.м, SUNNY HOMES недвижими имоти  предлага  къща с двор, РЗП 300 кв.метра, дворно място 1600 кв.м.,  камъ ..., тел.: 0882373785&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;54 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Самоводене, област Велико Търново&#39;, &#39;info&#39;: &#34;80 кв.м, двор 500 кв.м, 2 ет., Агенция за недвижими имоти &#39;Оникс&#39; Ви предлага масивна двуетажна къща на калкан във високата част в  ..., тел.: 0885 971 518&#34;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;80 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;с. Хотница, област Велико Търново&#39;, &#39;info&#39;: &#39;100 кв.м, двор 1490 кв.м, ЕКСКЛУЗИВНО! Имоти Търновград Ви предлага реновирана къща в село Русаля, намираща се в близост до ре ..., тел.: 0895476397&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;250 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ХОТЕЛ&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;6878 кв.м, Тухла 2005 г., АRCO REAL ESTATE, ПРЕДЛАГА КОМПЛЕКС С КЪЩИ ЗА ОТДИХ. Близко до комплекса е град Елена, който е извес ..., тел.: 0894550682&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;400 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ХОТЕЛ&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;1427 кв.м, Тухла 2007 г., ЕРА ИМОТИ РУСЕ Ви предлага уникалната възможност да инвестирате в собствен приказен хотел в живописн ..., тел.: 0886601920&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;300 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ХОТЕЛ&#39;, &#39;location&#39;: &#39;с. Лагерите, област Велико Търново&#39;, &#39;info&#39;: &#39;1332 кв.м, Тухла 1947 г., ЕКСКЛУЗИВНО: Емблематичен обект с история и стратегическа локация до границата на област Велико Търн ..., тел.: 0889590019&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;55 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ПАРЦЕЛ&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;4974 кв.м, ID:20556 Продава се атрактивен имот с голям понециал в Еленския Балкан разположен в село на 5км гр.  ..., тел.: 0878 48 47 40&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;16 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ПАРЦЕЛ&#39;, &#39;location&#39;: &#39;с. Ново село, област Велико Търново&#39;, &#39;info&#39;: &#39;2400 кв.м, Регулация, Предлагаме ЕКСКЛУЗИВНО, дворно място в регулацията на с. Ново село, с площ на парцела 2400кв.м.. Имо ..., тел.: 0878818845&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;65 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава 2-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;57 кв.м, 7-ми ет. от 7, Агенция за недвижими имоти ОНИКС Ви предлага двустаен апартамент в гр. Горна Оряховица, в най-предпо ..., тел.: 0885 971 518&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;67 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава 2-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;60 кв.м, 2-ри ет. от 8, Предлагаме двустаен, панелен апартамент на междинен етаж, с изложение юг. Имота се състои от: коридо ..., тел.: 0878818845&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;70 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава 2-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;68 кв.м, 8-ми ет. от 8, Газ, ДВУСТАЕН АПАРТАМЕНТ ЕКСКЛУЗИВНО ! Агенция за недвижими имоти ОНИКС Ви предлага двустаен панелен апар ..., тел.: 0885 971 518&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;26 300 EUR&#39;, &#39;rooms&#39;: &#39;Продава 3-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;110 кв.м, 1-ви ет. от 3, ЕКСКЛУЗИВНО! Болярски Имоти предлага за продажба изцяло Южен Тристаен апартамент в квартал Гарата гр ..., тел.: 0877559233&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;62 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава 3-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;80 кв.м, 4-ти ет. от 4, Имоти Търновград Ви предлага тристаен апартамент на шпакловка и замазка в тих район на гр. Горна Оря ..., тел.: 0895476397&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;52 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава 4-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;115 кв.м, 5-ти ет. от 5, Ексклузивна оферта! Агенция за имоти продава четиристаен тухлен апартамент в кв.Пролет, близо до пар ..., тел.: 0887999086&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;89 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава 4-СТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#34;170 кв.м, 2-ри ет. от 3, ТЕЦ, Екипът на агенция &#39;ОНИКС&#39; Ви предлага луксозно, обзаведен етаж от къща, находящ се в широкия център  ..., тел.: 0885971518&#34;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;52 500 EUR&#39;, &#39;rooms&#39;: &#39;Продава МНОГОСТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;93 кв.м, 1-ви ет. от 4, Имоти Търновград има удоволствието да Ви предложи многостаен тухлен апартамент с гараж в град Горна  ..., тел.: 0884796221&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;57 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава МНОГОСТАЕН&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;155 кв.м, 4-ти ет. от 4, Тухла 2011 г., Ексклузивна оферта! Без комисионна за купувача! Продава уникален панорамен ново строителство апартам ..., тел.: 0887999086&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;60 000 лв.&#39;, &#39;rooms&#39;: &#39;Продава ЕТАЖ ОТ КЪЩА&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;100 кв.м, Калтинец, 2-ри ет. от 2, Агенция за недвижими имоти ОНИКС има удоволствието да Ви предложи етаж от къща в град Горна Оряховиц ..., тел.: 0885 971 518&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;92 300 EUR&#39;, &#39;rooms&#39;: &#39;Продава ЕТАЖ ОТ КЪЩА&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;130 кв.м, 1-ви ет. от 2, Агенция за имоти продава ексклузивно луксозно жилище с панорамна гледка в тих и спокоен квартал на Г ..., тел.: 0887999086&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;88 500 лв.&#39;, &#39;rooms&#39;: &#39;Продава ЕТАЖ ОТ КЪЩА&#39;, &#39;location&#39;: &#39;гр. Дебелец, област Велико Търново&#39;, &#39;info&#39;: &#34;89 кв.м, 1-ви ет. от 2, ЕКСКЛУЗИВНО!Екипът на фирма за недвижими имоти &#39;АкцентИ Пропъртис&#39; ООД Ви предлага самостоятелен ета ..., тел.: 0887/573 633&#34;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;65 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава ЕТАЖ ОТ КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;117 кв.м, гр.Елена, 2-ри ет. от 3, Тухла 1978 г., Просторен етаж от масивна двуфамилна къща. Намира се на първи жилищен етаж, над гараж / магазин/ скл ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;43 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Бяла черква, област Велико Търново&#39;, &#39;info&#39;: &#39;130 кв.м, двор 4000 кв.м, 1 ет., Агенция за недвижими имоти БОЛКАН ЕСТЕЙТ предлага ЕКСКЛУЗИВНО на Вашето внимание просторна къща за п ..., тел.: 0886129319&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;55 700 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Горна Оряховица, област Велико Търново&#39;, &#39;info&#39;: &#39;150 кв.м, двор 351 кв.м, Болярски Имоти Ви предлага за продажба САМОСТОЯТЕЛНА  двуетажна къща със собствен двор на 5 минути п ..., тел.: 0877559233&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;22 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;214 кв.м, двор 1800 кв.м, с.Беброво, Здрава тухлена двуетажна къща . Сградата е на два етажа, като на първият се намира три стаи, баня и  ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;22 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;150 кв.м, двор 620 кв.м, с.Беброво, Здрава тухлена къща с каменни основи. Сградата е на две нива, като на първото се намира  магазин, пр ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;25 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;120 кв.м, двор 2530 кв.м, с.Средни Колиби, Къща в блзост до яз. Йовковци. Собствен водоизточник - кладенец, централно водоснабдяване на ВиК, ел ..., тел.: 0887902715&#39;}, {&#39;property_info&#39;: &#39;Обява продава къща, гр. Елена, област Велико Търново&#39;, &#39;price&#39;: &#39;33 000 EUR&#39;, &#39;rooms&#39;: &#39;Продава КЪЩА&#39;, &#39;location&#39;: &#39;гр. Елена, област Велико Търново&#39;, &#39;info&#39;: &#39;90 кв.м, двор 270 кв.м, гр.Елена, Старинна жилищна сграда с дворно място и построената в него двуетажна допълваща сграда. Продава се ж ..., тел.: 0887902715&#39;}]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="For-example-on-the-first-line-we-may-have:-(20,-20,-0,-40)---that-means-that-there-are-20-properties-with-'style-0',-20-properties-with-'style-1'-and-0-properties-with-'style-2'.-The-sum-of-which-should-be-always-equal-to-40.">For example on the first line we may have: (20, 20, 0, 40) - that means that there are 20 properties with 'style 0', 20 properties with 'style 1' and 0 properties with 'style 2'. The sum of which should be always equal to 40.<a class="anchor-link" href="#For-example-on-the-first-line-we-may-have:-(20,-20,-0,-40)---that-means-that-there-are-20-properties-with-'style-0',-20-properties-with-'style-1'-and-0-properties-with-'style-2'.-The-sum-of-which-should-be-always-equal-to-40."> </a></h4><h4 id="The-code-from-above-is-not-hard-to-understand,-but-there-is-a-lot-of-repetition.">The code from above is not hard to understand, but there is a lot of repetition.<a class="anchor-link" href="#The-code-from-above-is-not-hard-to-understand,-but-there-is-a-lot-of-repetition."> </a></h4><h4 id="I-want-to-explain-how-to-create-a-DataFrame-object-and-how-to-translate-it-into-English-just-to-see-how-this-works-and-then-I-will-amend-the-code-from-above-and-make-it-more-compact.">I want to explain how to create a DataFrame object and how to translate it into English just to see how this works and then I will amend the code from above and make it more compact.<a class="anchor-link" href="#I-want-to-explain-how-to-create-a-DataFrame-object-and-how-to-translate-it-into-English-just-to-see-how-this-works-and-then-I-will-amend-the-code-from-above-and-make-it-more-compact."> </a></h4><h4 id="In-the-cell-below-the-for-loop-collects-data-from-multiple-pages-and-saves-them-on-'property_list'-variable.">In the cell below the for loop collects data from multiple pages and saves them on 'property_list' variable.<a class="anchor-link" href="#In-the-cell-below-the-for-loop-collects-data-from-multiple-pages-and-saves-them-on-'property_list'-variable."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># I overwrite the &#39;property_list&#39; variable to be empty list,</span>
<span class="c1"># otherwise the &#39;property_list&#39; will grow each time the functions above are run</span>
<span class="c1"># and will give &#39;wrong&#39; answers when tested</span>

<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Page number: </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">search</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
    <span class="n">transform</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">property_list</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Page number: 1
Page number: 2
80
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Translation-using-Google-Translate">Translation using Google Translate<a class="anchor-link" href="#Translation-using-Google-Translate"> </a></h2><h4 id="We-have-scraped-80-listings-from-the-website,-that-is-now-much,-but-proves-that-the-concept-works.">We have scraped 80 listings from the website, that is now much, but proves that the concept works.<a class="anchor-link" href="#We-have-scraped-80-listings-from-the-website,-that-is-now-much,-but-proves-that-the-concept-works."> </a></h4><h4 id="Let's-not-forget-that-the-results-are-in-Bulgarian.">Let's not forget that the results are in Bulgarian.<a class="anchor-link" href="#Let's-not-forget-that-the-results-are-in-Bulgarian."> </a></h4><h4 id="The-first-way-to-translate-into-English-is-to-create-a-Pandas-DataFrame-object-and-save-the-result-into-a-file.-Then-we-can-upload-the-file-here:-https://translate.google.com/?sl=bg&amp;tl=en&amp;op=translate--and-translate-with-Google-Translate-so-we-can-see-the-final-result.">The first way to translate into English is to create a Pandas DataFrame object and save the result into a file. Then we can upload the file here: <a href="https://translate.google.com/?sl=bg&amp;tl=en&amp;op=translate">https://translate.google.com/?sl=bg&amp;tl=en&amp;op=translate</a>  and translate with Google Translate so we can see the final result.<a class="anchor-link" href="#The-first-way-to-translate-into-English-is-to-create-a-Pandas-DataFrame-object-and-save-the-result-into-a-file.-Then-we-can-upload-the-file-here:-https://translate.google.com/?sl=bg&amp;tl=en&amp;op=translate--and-translate-with-Google-Translate-so-we-can-see-the-final-result."> </a></h4><h4 id="Initially,-when-I-began-working-on-this-project-Google-Translate-was-translating-*.txt-files.">Initially, when I began working on this project Google Translate was translating *.txt files.<a class="anchor-link" href="#Initially,-when-I-began-working-on-this-project-Google-Translate-was-translating-*.txt-files."> </a></h4><h4 id="Now-it-can-translate-only---.docx,-.pdf,-.pptx,-or-.xlsx.">Now it can translate only - .docx, .pdf, .pptx, or .xlsx.<a class="anchor-link" href="#Now-it-can-translate-only---.docx,-.pdf,-.pptx,-or-.xlsx."> </a></h4><h4 id="It-can-not-translate-*.CSV-files-as-well">It can not translate *.CSV files as well<a class="anchor-link" href="#It-can-not-translate-*.CSV-files-as-well"> </a></h4><h4 id="First-Save-it-to-a--*.CSV-file-to-have-the-right-format-and-to-preserve-the-encoding.">First Save it to a  *.CSV file to have the right format and to preserve the encoding.<a class="anchor-link" href="#First-Save-it-to-a--*.CSV-file-to-have-the-right-format-and-to-preserve-the-encoding."> </a></h4><h4 id="Open-the-.CSV-file-'File'--&gt;-'Save-As'--&gt;-'Excel-Workbook'-(.xlsx).">Open the <em>.CSV file 'File' -&gt; 'Save As' -&gt; 'Excel Workbook' (</em>.xlsx).<a class="anchor-link" href="#Open-the-.CSV-file-'File'--&gt;-'Save-As'--&gt;-'Excel-Workbook'-(.xlsx)."> </a></h4><h4 id="In-that-way-it-will-allow-us-to-upload-the-file-to-Google-Translate.">In that way it will allow us to upload the file to Google Translate.<a class="anchor-link" href="#In-that-way-it-will-allow-us-to-upload-the-file-to-Google-Translate."> </a></h4><h4 id="This-will-prevent-it-from-telling-us-that-the-file-is-corrupted.">This will prevent it from telling us that the file is corrupted.<a class="anchor-link" href="#This-will-prevent-it-from-telling-us-that-the-file-is-corrupted."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">property_list</span><span class="p">)</span>

<span class="c1"># Print it to see what we got</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Apparently, in the description of each listing we can see many commas and semicolons</span>
<span class="c1"># that are the usually separators.</span>
<span class="c1"># It will cause problems, so we can change the separator to be &#39;~&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8-sig&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;~&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>                                       property_info        price  \
0  Обява продава къща, гр. Елена, област Велико Т...   50 000 EUR   
1  Обява продава къща, гр. Елена, област Велико Т...   65 000 EUR   
2  Обява продава къща, гр. Елена, област Велико Т...   85 000 EUR   
3  Обява продава къща, гр. Елена, област Велико Т...  115 000 лв.   
4  Обява продава къща, гр. Елена, област Велико Т...    5 999 EUR   

          rooms                                   location  \
0  Продава КЪЩА           гр. Елена, област Велико Търново   
1  Продава КЪЩА           гр. Елена, област Велико Търново   
2  Продава КЪЩА       гр. Златарица, област Велико Търново   
3  Продава КЪЩА       гр. Павликени, област Велико Търново   
4  Продава КЪЩА  гр. Полски Тръмбеш, област Велико Търново   

                                                info  
0  146 кв.м, двор 2200 кв.м, с.Дърлевци, Реновира...  
1  144 кв.м, двор 739 кв.м, с.Граматици, Атрактив...  
2  185 кв.м, двор 613 кв.м, Primo+ Велико Търново...  
3  123 кв.м, двор 750 кв.м, Имоти Търновград Ви п...  
4  140 кв.м, двор 3000 кв.м, село Орловец, Тухлен...  
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="I-had-to-manually-delete-the-first-row-of-the-file---'test_after_translation'-(Excel-Worksheet),-then-save-it-to--'test_after_translation'-(.CSV).-Now-when-I-read-the-.CSV-file-in-Python-I--wouldn't-get-an-error-about-some-rows-having-more-elements-than-others,-then-as-you-can-see-below-I-added-again-the-column-names-so-no-harm-done.">I had to manually delete the first row of the file - 'test_after_translation' (Excel Worksheet), then save it to  'test_after_translation' (<em>.CSV). Now when I read the </em>.CSV file in Python I  wouldn't get an error about some rows having more elements than others, then as you can see below I added again the column names so no harm done.<a class="anchor-link" href="#I-had-to-manually-delete-the-first-row-of-the-file---'test_after_translation'-(Excel-Worksheet),-then-save-it-to--'test_after_translation'-(.CSV).-Now-when-I-read-the-.CSV-file-in-Python-I--wouldn't-get-an-error-about-some-rows-having-more-elements-than-others,-then-as-you-can-see-below-I-added-again-the-column-names-so-no-harm-done."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># We have to make sure that all the rows are translated and not just partly.</span>
<span class="c1"># If the file has been translated partly then we can try again until it is fully translated.</span>

<span class="n">translated_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./test_after_translation.csv&#39;</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s1">&#39;~&#39;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">translated_df</span> <span class="o">=</span> <span class="n">translated_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">translated_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;property_info&#39;</span><span class="p">,</span> <span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;rooms&#39;</span><span class="p">,</span> <span class="s1">&#39;location&#39;</span><span class="p">,</span><span class="s1">&#39;info&#39;</span><span class="p">]</span>

<span class="n">translated_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>property_info</th>
      <th>price</th>
      <th>rooms</th>
      <th>location</th>
      <th>info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Ad for sale house, town of Elena, Veliko Tarn...</td>
      <td>50 000 EUR</td>
      <td>House for sale</td>
      <td>c. Helen, Veliko Tarnovo region</td>
      <td>146 sq.m., yard 2200 sq.m., The village of Da...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ad sells a house, town of Elena, Veliko Tarno...</td>
      <td>65 000 EUR</td>
      <td>House for sale</td>
      <td>c. Helen, Veliko Tarnovo region</td>
      <td>144 sq.m., yard 739 sq.m., Gramatici village,...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Ad for sale house, town of Elena,Veliko Tarno...</td>
      <td>85 000 EUR</td>
      <td>House for sale</td>
      <td>c. Zlataritsa, Veliko Tarnovo region</td>
      <td>185 sq.m., yard 613 sq.m., Primo + Veliko Tar...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ad for sale house, town of Elena, Veliko Tarn...</td>
      <td>115 000 BGN</td>
      <td>HOUSE FOR SALE</td>
      <td>c. Pavlikeni, Veliko Tarnovo region</td>
      <td>123 sq.m., yard 750 sq.m., Property Tarnovgra...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Ad sells a house, town of Elena,Veliko Tarnov...</td>
      <td>5 999 EUR</td>
      <td>House for sale</td>
      <td>c. Polski Trambesh, Veliko Tarnovo region</td>
      <td>140 sq.m., yard 3000 sq.m., the village of Or...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="The-above-DataFrame-is-the-result-I-got.">The above DataFrame is the result I got.<a class="anchor-link" href="#The-above-DataFrame-is-the-result-I-got."> </a></h4><h4 id="-"> <a class="anchor-link" href="#-"> </a></h4><h4 id="-"> <a class="anchor-link" href="#-"> </a></h4><h4 id="Now-let's-try-the-other-way-to-translate-the-Bulgarian-DataFrame-we-managed-to-scrape.">Now let's try the other way to translate the Bulgarian DataFrame we managed to scrape.<a class="anchor-link" href="#Now-let's-try-the-other-way-to-translate-the-Bulgarian-DataFrame-we-managed-to-scrape."> </a></h4><h4 id="For-this-purpose-we-will-use-'google_trans_new'-module.">For this purpose we will use 'google_trans_new' module.<a class="anchor-link" href="#For-this-purpose-we-will-use-'google_trans_new'-module."> </a></h4><h4 id="Important:-There-is-a-bug-we-need-to-fix-before-translating-anything.">Important: There is a bug we need to fix before translating anything.<a class="anchor-link" href="#Important:-There-is-a-bug-we-need-to-fix-before-translating-anything."> </a></h4><h4 id="https://github.com/lushan88a/google_trans_new/issues/36"><a href="https://github.com/lushan88a/google_trans_new/issues/36">https://github.com/lushan88a/google_trans_new/issues/36</a><a class="anchor-link" href="#https://github.com/lushan88a/google_trans_new/issues/36"> </a></h4><h4 id="Change-line-151-and-line-233-in-google_trans_new/google_trans_new.py:">Change line 151 and line 233 in google_trans_new/google_trans_new.py:<a class="anchor-link" href="#Change-line-151-and-line-233-in-google_trans_new/google_trans_new.py:"> </a></h4><h4 id="response-=-(decoded_line-+-']')------TO------response-=-(decoded_line)">response = (decoded_line + ']')      TO      response = (decoded_line)<a class="anchor-link" href="#response-=-(decoded_line-+-']')------TO------response-=-(decoded_line)"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Translation-using-'google_trans_new'-module">Translation using 'google_trans_new' module<a class="anchor-link" href="#Translation-using-'google_trans_new'-module"> </a></h2>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">basic_translation</span><span class="p">(</span><span class="n">text_for_translation</span><span class="p">,</span> <span class="n">target_language</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Basic function introducing &#39;google_trans_new&#39;.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># We instantiate &#39;google_translator&#39; object called &#39;translator&#39;</span>
    <span class="n">translator</span> <span class="o">=</span> <span class="n">google_translator</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s2">&quot;bg&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
    <span class="c1"># In the brackets we put the text we need translated first, then we define &#39;lang_tgt&#39; parameter</span>
    <span class="c1"># that is used to tell to what language we need to translate the original text</span>
    <span class="n">translate</span> <span class="o">=</span> <span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">text_for_translation</span><span class="p">,</span>
                                     <span class="n">lang_tgt</span> <span class="o">=</span> <span class="n">target_language</span><span class="p">,</span> 
                                     <span class="n">pronounce</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="n">translate</span><span class="p">)</span>
    


<span class="n">basic_translation</span><span class="p">(</span><span class="s1">&#39;สวัสดีจีน&#39;</span><span class="p">,</span> <span class="s1">&#39;zh&#39;</span><span class="p">)</span>   <span class="c1"># &#39;zh&#39; is for Chinese</span>
<span class="n">basic_translation</span><span class="p">(</span><span class="s1">&#39;Привет мир&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="n">basic_translation</span><span class="p">(</span><span class="s1">&#39;Здравей свят&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;你好中文 &#39;, &#39;S̄wạs̄dī cīn&#39;, &#39;Nǐ hǎo zhōngwén&#39;]
[&#39;Hello World &#39;, &#39;Privet mir&#39;, None]
[&#39;Hello world &#39;, &#39;Zdraveĭ svyat&#39;, None]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Now-we-can-try-to-translate-the-DataFrame-from-above-directly-without-having-to-save-files-and-manually-translate-them-with-Google.">Now we can try to translate the DataFrame from above directly without having to save files and manually translate them with Google.<a class="anchor-link" href="#Now-we-can-try-to-translate-the-DataFrame-from-above-directly-without-having-to-save-files-and-manually-translate-them-with-Google."> </a></h4><h4 id="It-might-take-some-time-to-complete-the-translation-process.">It might take some time to complete the translation process.<a class="anchor-link" href="#It-might-take-some-time-to-complete-the-translation-process."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">google_trans</span><span class="p">(</span><span class="n">dataframe</span><span class="p">,</span> <span class="n">source_language</span><span class="p">,</span> <span class="n">target_language</span><span class="p">):</span>
    
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Simple function for translating a DataFrame.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># We instantiate &#39;google_translator&#39; object called &#39;translator&#39;</span>
    <span class="n">translator</span> <span class="o">=</span> <span class="n">google_translator</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s2">&quot;bg&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># Creating a deep copy of the dataframe</span>
    <span class="n">google_df</span> <span class="o">=</span> <span class="n">dataframe</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">deep</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

    <span class="c1"># Instantiating &#39;columns&#39; variable to store the names of the columns</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="n">google_df</span><span class="o">.</span><span class="n">columns</span>

    <span class="c1"># For-looping through each column and overwriting each text with translated text</span>
    <span class="k">for</span> <span class="n">column</span> <span class="ow">in</span> <span class="n">columns</span><span class="p">:</span>
        <span class="n">google_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span> <span class="o">=</span> <span class="n">google_df</span><span class="p">[</span><span class="n">column</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">,</span> 
                                                    <span class="n">lang_src</span> <span class="o">=</span> <span class="n">source_language</span><span class="p">,</span>  
                                                    <span class="n">lang_tgt</span> <span class="o">=</span> <span class="n">target_language</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">google_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Translating-the-DataFrame-and-saving-it-into-file.">Translating the DataFrame and saving it into file.<a class="anchor-link" href="#Translating-the-DataFrame-and-saving-it-into-file."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">google_trans_df</span> <span class="o">=</span> <span class="n">google_trans</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="s1">&#39;bg&#39;</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">)</span>

<span class="n">google_trans_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;google_trans_test.csv&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Reading-from-the-saved-file.">Reading from the saved file.<a class="anchor-link" href="#Reading-from-the-saved-file."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">google_trans_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;./google_trans_test.csv&#39;</span><span class="p">)</span>
<span class="n">google_trans_df</span> <span class="o">=</span> <span class="n">google_trans_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">axis</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="s1">&#39;Unnamed: 0&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Comparing-the-results-from-the-translation">Comparing the results from the translation<a class="anchor-link" href="#Comparing-the-results-from-the-translation"> </a></h2><h4 id="Finally,-lets-compare-the-results.">Finally, lets compare the results.<a class="anchor-link" href="#Finally,-lets-compare-the-results."> </a></h4><h4 id="First-the-Original-Dataframe-followed-by-the-Manually-translated-DataFrame-and-third-will-be-the-'Google-Trans-New'-DataFrame.">First the Original Dataframe followed by the Manually translated DataFrame and third will be the 'Google Trans New' DataFrame.<a class="anchor-link" href="#First-the-Original-Dataframe-followed-by-the-Manually-translated-DataFrame-and-third-will-be-the-'Google-Trans-New'-DataFrame."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>property_info</th>
      <th>price</th>
      <th>rooms</th>
      <th>location</th>
      <th>info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Обява продава къща, гр. Елена, област Велико Т...</td>
      <td>50 000 EUR</td>
      <td>Продава КЪЩА</td>
      <td>гр. Елена, област Велико Търново</td>
      <td>146 кв.м, двор 2200 кв.м, с.Дърлевци, Реновира...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Обява продава къща, гр. Елена, област Велико Т...</td>
      <td>65 000 EUR</td>
      <td>Продава КЪЩА</td>
      <td>гр. Елена, област Велико Търново</td>
      <td>144 кв.м, двор 739 кв.м, с.Граматици, Атрактив...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Обява продава къща, гр. Елена, област Велико Т...</td>
      <td>85 000 EUR</td>
      <td>Продава КЪЩА</td>
      <td>гр. Златарица, област Велико Търново</td>
      <td>185 кв.м, двор 613 кв.м, Primo+ Велико Търново...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">translated_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>property_info</th>
      <th>price</th>
      <th>rooms</th>
      <th>location</th>
      <th>info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Ad for sale house, town of Elena, Veliko Tarn...</td>
      <td>50 000 EUR</td>
      <td>House for sale</td>
      <td>c. Helen, Veliko Tarnovo region</td>
      <td>146 sq.m., yard 2200 sq.m., The village of Da...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Ad sells a house, town of Elena, Veliko Tarno...</td>
      <td>65 000 EUR</td>
      <td>House for sale</td>
      <td>c. Helen, Veliko Tarnovo region</td>
      <td>144 sq.m., yard 739 sq.m., Gramatici village,...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Ad for sale house, town of Elena,Veliko Tarno...</td>
      <td>85 000 EUR</td>
      <td>House for sale</td>
      <td>c. Zlataritsa, Veliko Tarnovo region</td>
      <td>185 sq.m., yard 613 sq.m., Primo + Veliko Tar...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">google_trans_df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>property_info</th>
      <th>price</th>
      <th>rooms</th>
      <th>location</th>
      <th>info</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Listing House for sale, Elena, Veliko Tarnovo ...</td>
      <td>EUR 50 000</td>
      <td>House for sale</td>
      <td>Elena, Veliko Tarnovo District</td>
      <td>146 sq.m, yard 2200 sq.m, S.Mrulevtsi, renovat...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Listing House for sale, Elena, Veliko Tarnovo ...</td>
      <td>EUR 65 000</td>
      <td>House for sale</td>
      <td>Elena, Veliko Tarnovo District</td>
      <td>144 sq.m, yard 739 sq.m, villageGamatsi, attra...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Listing House for sale, Elena, Veliko Tarnovo ...</td>
      <td>85 000 EUR</td>
      <td>House for sale</td>
      <td>Zlataritsa, Veliko Tarnovo region</td>
      <td>185 sq.m, yard 613 sq.m, Primo + Veliko Tarnov...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Overall,-both-translations-are-good,-both-have-flaws-and-good-sides,-but-personally-I-prefer-the-Manual-translation-:-'translated_df'">Overall, both translations are good, both have flaws and good sides, but personally I prefer the Manual translation : 'translated_df'<a class="anchor-link" href="#Overall,-both-translations-are-good,-both-have-flaws-and-good-sides,-but-personally-I-prefer-the-Manual-translation-:-'translated_df'"> </a></h4><h4 id="Now-we-can-upgrade-the-code-and-scrape-listings-from-multiple-municipalities.">Now we can upgrade the code and scrape listings from multiple municipalities.<a class="anchor-link" href="#Now-we-can-upgrade-the-code-and-scrape-listings-from-multiple-municipalities."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-"> <a class="anchor-link" href="#-"> </a></h3><h3 id="-"> <a class="anchor-link" href="#-"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Introducing-new-ideas-and-code-modification">Introducing new ideas and code modification<a class="anchor-link" href="#Introducing-new-ideas-and-code-modification"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Might-be-useful-to-see-how-we-can-get-the-last-page-for-this-website.">Might be useful to see how we can get the last page for this website.<a class="anchor-link" href="#Might-be-useful-to-see-how-we-can-get-the-last-page-for-this-website."> </a></h4><h4 id="Keep-in-mind-every-website-is-designed-differently-and-the-code-below-will-not-work-with-other-websites.-The-way-I-found-the-last-page-number-was-to-find-the-text-representing-it-in-the-HTML-code.">Keep in mind every website is designed differently and the code below will not work with other websites. The way I found the last page number was to find the text representing it in the HTML code.<a class="anchor-link" href="#Keep-in-mind-every-website-is-designed-differently-and-the-code-below-will-not-work-with-other-websites.-The-way-I-found-the-last-page-number-was-to-find-the-text-representing-it-in-the-HTML-code."> </a></h4><h4 id="span-class=&quot;pageNumbersInfo&quot;&gt;&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;-1-&#1086;&#1090;-25&lt;/span">span class="pageNumbersInfo"&gt;&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072; 1 &#1086;&#1090; 25&lt;/span<a class="anchor-link" href="#span-class=&quot;pageNumbersInfo&quot;&gt;&#1057;&#1090;&#1088;&#1072;&#1085;&#1080;&#1094;&#1072;-1-&#1086;&#1090;-25&lt;/span"> </a></h4><h4 id="Translated:-span-class=&quot;pageNumbersInfo&quot;&gt;PAGE-1-OF-25&lt;/span">Translated: span class="pageNumbersInfo"&gt;PAGE 1 OF 25&lt;/span<a class="anchor-link" href="#Translated:-span-class=&quot;pageNumbersInfo&quot;&gt;PAGE-1-OF-25&lt;/span"> </a></h4><h4 id="It-is-interesting-to-mention-that-this-website-has-25-pages-of-properties-for-each-municipality-and-each-page-has-40-property-listings.">It is interesting to mention that this website has 25 pages of properties for each municipality and each page has 40 property listings.<a class="anchor-link" href="#It-is-interesting-to-mention-that-this-website-has-25-pages-of-properties-for-each-municipality-and-each-page-has-40-property-listings."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">transform_page_number</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This simple function is used to find the last page number for each municipality.</span>
<span class="sd">    Assumes that the page number is 2 digit number</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># We are looking for &#39;span&#39; tag from class &#39;pageNumbersInfo&#39;</span>
    <span class="n">last_page</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;pageNumbersInfo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">last_page_number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">last_page</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">last_page_number</span>

<span class="c1"># we create empty list to which we append info</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">last_page_number</span> <span class="o">=</span> <span class="p">[]</span>


<span class="n">search</span> <span class="o">=</span> <span class="n">extract</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">transform_page_number</span><span class="p">(</span><span class="n">search</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;25&#39;]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-"> <a class="anchor-link" href="#-"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="In-order-to-get-results-from-multiple-municipalities-we-need-to-alter-the-code-for-the-'extract'-function.-The-code-for-'transform'-function-stays-the-same,-it-is-not-the-best-code.-We-can-see-repetition-occuring.">In order to get results from multiple municipalities we need to alter the code for the 'extract' function. The code for 'transform' function stays the same, it is not the best code. We can see repetition occuring.<a class="anchor-link" href="#In-order-to-get-results-from-multiple-municipalities-we-need-to-alter-the-code-for-the-'extract'-function.-The-code-for-'transform'-function-stays-the-same,-it-is-not-the-best-code.-We-can-see-repetition-occuring."> </a></h4><h4 id="The-'modified_extract'-function-takes-another-argument-called-'municipality'-that-is-the-code-of-the-municipality-from-the-URL-for-it.-We-will-use-it-instead-of-'extract'-from-now-on.">The 'modified_extract' function takes another argument called 'municipality' that is the code of the municipality from the URL for it. We will use it instead of 'extract' from now on.<a class="anchor-link" href="#The-'modified_extract'-function-takes-another-argument-called-'municipality'-that-is-the-code-of-the-municipality-from-the-URL-for-it.-We-will-use-it-instead-of-'extract'-from-now-on."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">modified_extract</span><span class="p">(</span><span class="n">page</span><span class="p">,</span> <span class="n">municipality</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to change the number of the page from the link.</span>
<span class="sd">    So after we finish with collecting the data from page 1, we can continue to page 2</span>
<span class="sd">    of that webpage and so on.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># https://router-network.com/tools/what-is-my-user-agent    -&gt; to find the &#39;user agent&#39;</span>
    <span class="c1"># or google -&gt; &#39;what is my user agent&#39;</span>
    <span class="c1"># &#39;user agent&#39; is a mediator between the user and the internet it holds technical information</span>
    <span class="c1"># about the device (the computer used) and the software</span>
    <span class="c1"># the &#39;user agent&#39; is unique for every person on the internet</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 6.3; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/94.0.4606.81 Safari/537.36&#39;</span><span class="p">}</span>
    
    <span class="c1"># f-string in which we can change the number of the page</span>
    <span class="c1"># note that &#39;page&#39; in the f-string is the parameter of the function</span>
    <span class="c1"># in addition to that now we can input diferent strings that represent minicipalities</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://www.imot.bg/pcgi/imot.cgi?act=3&amp;slink=</span><span class="si">{</span><span class="n">municipality</span><span class="si">}</span><span class="s1">&amp;f1=</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s1">&#39;</span>
    
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
    
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">soup</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">transform</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function is used to find and collect information.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    
    <span class="c1"># We can find all &#39;div&#39; tags that store the price of each property listing</span>
    <span class="c1"># in that way we can get all 40 listings</span>
    <span class="n">price_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    
    <span class="c1"># Each listing is associated with a particular style that actually shows if the listing</span>
    <span class="c1"># is &#39;Top&#39;, &#39;Vip&#39; or just ordinary listing</span>
    <span class="n">style_0</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/top_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span>
    <span class="n">style_1</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/vip_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span>
    <span class="n">style_2</span> <span class="o">=</span> <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid;&quot;</span>
    
    <span class="c1"># We locate all tags &#39;table&#39; that contain all the information we can scrape and we associate</span>
    <span class="c1"># the &#39;table&#39; tag with the different styles</span>
    <span class="n">table_0</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_0</span><span class="p">)</span>
    <span class="n">table_1</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_1</span><span class="p">)</span>
    <span class="n">table_2</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">style_2</span><span class="p">)</span>
    
    <span class="c1"># The following three for loops go through each &#39;table&#39; tag and scrape information from it</span>
    <span class="c1"># The each for loop stores the information into a dictionary. Each dictionary is then appended</span>
    <span class="c1"># to a list that contains all the information.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_0</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_0</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_0</span><span class="p">)</span>
        
          
        
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_1</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_1</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_1</span><span class="p">)</span>
        
        
    
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">table_2</span><span class="p">:</span>
        <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">price</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">rooms</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">location</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        
        <span class="c1"># dictionary to store the collected information</span>
        <span class="n">property_dictionary_2</span> <span class="o">=</span> <span class="p">{</span>
                            <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                            <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                            <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                            <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                            <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                          <span class="p">}</span>
        <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary_2</span><span class="p">)</span>
    
    
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_0</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">table_1</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">price_div</span><span class="p">)</span>

<span class="c1"># we create empty list to which we append the information gathered from the three for loops</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>


<span class="c1"># These are two list variables that store strings for the municipality and </span>
<span class="c1"># the actual name of the municipality</span>
<span class="n">municipality</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;7o9q5q&#39;</span><span class="p">,</span> <span class="s1">&#39;7o9q7x&#39;</span><span class="p">]</span>
<span class="n">municipality_translation</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Veliko Tarnovo&#39;</span><span class="p">,</span> <span class="s1">&#39;Sofia City&#39;</span><span class="p">]</span>


<span class="c1"># For loop that does the web scraping</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">municipality</span><span class="p">)):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">municipality</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Page number: </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">municipality_translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">modified_extract</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
        <span class="n">transform</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
    
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">property_list</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Page number: 1 - Veliko Tarnovo
Page number: 2 - Veliko Tarnovo
Page number: 1 - Sofia City
Page number: 2 - Sofia City
160
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="What-is-important-is-that-we-have-managed-to-extract-all-the-property-listings-of-two-pages-for-two-municipalities.-That-means-that-we-can-scrape-all-the-property-listings-if-we-just-add-the-code-for-each-municipality-to-the-list-'municipality'.-In-addition-to-that-we-can-see-that-for-the-four-pages-that-we-scraped-the-sum-of-listings-is-equal-to-160,-which-means-that-all-is-working-as-it-should.">What is important is that we have managed to extract all the property listings of two pages for two municipalities. That means that we can scrape all the property listings if we just add the code for each municipality to the list 'municipality'. In addition to that we can see that for the four pages that we scraped the sum of listings is equal to 160, which means that all is working as it should.<a class="anchor-link" href="#What-is-important-is-that-we-have-managed-to-extract-all-the-property-listings-of-two-pages-for-two-municipalities.-That-means-that-we-can-scrape-all-the-property-listings-if-we-just-add-the-code-for-each-municipality-to-the-list-'municipality'.-In-addition-to-that-we-can-see-that-for-the-four-pages-that-we-scraped-the-sum-of-listings-is-equal-to-160,-which-means-that-all-is-working-as-it-should."> </a></h4><h4 id="What-is-left-to-do-is-to-make-the-code-for-the-'transform'-function-more-compact-and-to-reduce-the-amount-of-code.-In-that-way-we-will-reduce-the-repetition-and-improve-the-quality-of-the-code.">What is left to do is to make the code for the 'transform' function more compact and to reduce the amount of code. In that way we will reduce the repetition and improve the quality of the code.<a class="anchor-link" href="#What-is-left-to-do-is-to-make-the-code-for-the-'transform'-function-more-compact-and-to-reduce-the-amount-of-code.-In-that-way-we-will-reduce-the-repetition-and-improve-the-quality-of-the-code."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">modified_transform</span><span class="p">(</span><span class="n">soup</span><span class="p">):</span>
    
    <span class="c1"># finds the total number of pages</span>
    <span class="c1"># assumes that the page number is 2 digit number</span>
    <span class="c1"># span class=&quot;pageNumbersInfo&quot;&gt;Страница 1 от 25&lt;/span&gt;    -   Page 1 of 25</span>
    
    <span class="n">last_page</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;pageNumbersInfo&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="o">-</span><span class="mi">2</span><span class="p">:]</span>
    <span class="n">last_page_number</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">last_page</span><span class="p">))</span>
    
    
    
    <span class="c1"># We can find all &#39;div&#39; tags that store the price of each property listing</span>
    <span class="c1"># in that way we can get all 40 listings</span>
    <span class="n">price_div</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span>
    
    <span class="c1"># Each listing is associated with a particular style that actually shows if the listing</span>
    <span class="c1"># is &#39;Top&#39;, &#39;Vip&#39; or just ordinary listing</span>
    <span class="n">styles</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/top_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span><span class="p">,</span>
              <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid; background:url(../images/picturess/vip_bg.gif); background-position:bottom; background-repeat:repeat-x;&quot;</span><span class="p">,</span>
              <span class="s2">&quot;margin-bottom:0px; border-top:#990000 1px solid;&quot;</span><span class="p">]</span>
    
    
    <span class="c1"># The &#39;table&#39; tags that contain the information do not have class, the only way to distinguish </span>
    <span class="c1"># one from another is the &#39;style&#39; attribute that they have</span>
    <span class="c1"># We can create a for loop that will collect automatically all the information instead repeating</span>
    <span class="c1"># the process three times for each table style and if something is changed we can easily</span>
    <span class="c1"># amend where it is needed.</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">styles</span><span class="p">)):</span>
        
        <span class="n">table_x</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="n">styles</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">table_x</span><span class="p">:</span>
            <span class="n">property_info</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;photoLink&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">img</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;alt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">price</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">rooms</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk1&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">location</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span> <span class="o">=</span> <span class="s1">&#39;lnk2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">info</span> <span class="o">=</span> <span class="n">j</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;td&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;520&quot;</span><span class="p">,</span> <span class="n">colspan</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;padding-left:4px&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>

            <span class="c1"># dictionary to store the collected information</span>
            <span class="n">property_dictionary</span> <span class="o">=</span> <span class="p">{</span>
                                <span class="s1">&#39;property_info&#39;</span> <span class="p">:</span> <span class="n">property_info</span><span class="p">,</span>
                                <span class="s1">&#39;price&#39;</span> <span class="p">:</span> <span class="n">price</span><span class="p">,</span>
                                <span class="s1">&#39;rooms&#39;</span> <span class="p">:</span> <span class="n">rooms</span><span class="p">,</span>
                                <span class="s1">&#39;location&#39;</span> <span class="p">:</span> <span class="n">location</span><span class="p">,</span>
                                <span class="s1">&#39;info&#39;</span> <span class="p">:</span> <span class="n">info</span>
                                <span class="p">}</span>
            <span class="n">property_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">property_dictionary</span><span class="p">)</span>
        
        
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">price_div</span><span class="p">),</span> <span class="n">last_page_number</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nb">len</span><span class="p">(</span><span class="n">property_info</span><span class="p">)</span>


<span class="c1"># we create empty list to which we append info</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># variable to store the the last page number</span>
<span class="n">last_page_number</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># FOR INFORMATION</span>
<span class="c1"># The URL code for each municipality is different every now and again.</span>
<span class="c1"># This is just an example on how to collect them.</span>
<span class="c1"># Keep in mind that those codes have expired and will give error,</span>
<span class="c1"># because it can not find the page number if the municipality code from the URL is changed.</span>
<span class="c1"># municipality = [&#39;7gf7vh&#39;, &#39;7gk4sj&#39;, &#39;7gjb7j&#39;, &#39;7gjay6&#39;, &#39;7gk56o&#39;, &#39;7gk4gh&#39;]</span>
<span class="c1"># municipality_translation = [&#39;Veliko Tarnovo&#39;, &#39;Sofia City&#39;, &#39;Sofia Municipality&#39;,</span>
<span class="c1">#                             &#39;Lovetch&#39;, &#39;Burgas&#39;, &#39;Varna&#39;]</span>


<span class="c1"># You can see that at the moment &#39;Veliko Tarnovo&#39; code is &#39;7lzaba&#39; and not &#39;7gf7vh&#39;. </span>
<span class="n">municipality</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;7o9q5q&#39;</span><span class="p">]</span>
<span class="n">municipality_translation</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Veliko Tarnovo&#39;</span><span class="p">]</span>


<span class="c1"># In order to get the last page number we need to run &#39;modified_extract&#39; function once</span>
<span class="c1"># so we can get the value of &#39;last_page_number&#39; variable and empty the &#39;property_list&#39; variable</span>
<span class="c1"># For information - it turns out that this site has only 25 pages with 40 properties</span>
<span class="c1"># per page for each municipality</span>
<span class="n">search</span> <span class="o">=</span> <span class="n">modified_extract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;7o9q5q&#39;</span><span class="p">)</span>
<span class="n">modified_transform</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
<span class="c1"># #print(transform(search))</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="The-following-cell-contains-two-identical-in-what-they-do-for-loops.-The-difference-between-them-is-that-the-first-one-finds-the-last-page-number,-where-as-the-second-one-has-the-number-hard-coded.">The following cell contains two identical in what they do for loops. The difference between them is that the first one finds the last page number, where as the second one has the number hard-coded.<a class="anchor-link" href="#The-following-cell-contains-two-identical-in-what-they-do-for-loops.-The-difference-between-them-is-that-the-first-one-finds-the-last-page-number,-where-as-the-second-one-has-the-number-hard-coded."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>


<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">municipality</span><span class="p">)):</span>    
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">last_page_number</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Page number: </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">municipality_translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">modified_extract</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">municipality</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">modified_transform</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>


<span class="c1"># This is the same for-loop as the one from above, it is just using out knowledge that the last page number is 25.</span>
<span class="c1"># for i in range(len(municipality)):    </span>
<span class="c1">#     for j in range(1, 26, 1):</span>
<span class="c1">#         print(f&#39;Page number: {j} - {municipality_translation[i]}&#39;)</span>
<span class="c1">#         search = modified_extract(j, municipality[i])</span>
<span class="c1">#         transform(search)</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">property_list</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">last_page_number</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Page number: 0 - Veliko Tarnovo
Page number: 1 - Veliko Tarnovo
Page number: 2 - Veliko Tarnovo
Page number: 3 - Veliko Tarnovo
Page number: 4 - Veliko Tarnovo
Page number: 5 - Veliko Tarnovo
Page number: 6 - Veliko Tarnovo
Page number: 7 - Veliko Tarnovo
Page number: 8 - Veliko Tarnovo
Page number: 9 - Veliko Tarnovo
Page number: 10 - Veliko Tarnovo
Page number: 11 - Veliko Tarnovo
Page number: 12 - Veliko Tarnovo
Page number: 13 - Veliko Tarnovo
Page number: 14 - Veliko Tarnovo
Page number: 15 - Veliko Tarnovo
Page number: 16 - Veliko Tarnovo
Page number: 17 - Veliko Tarnovo
Page number: 18 - Veliko Tarnovo
Page number: 19 - Veliko Tarnovo
Page number: 20 - Veliko Tarnovo
Page number: 21 - Veliko Tarnovo
Page number: 22 - Veliko Tarnovo
Page number: 23 - Veliko Tarnovo
Page number: 24 - Veliko Tarnovo
1000
[25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25, 25]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="We-got-25-pages,-which-is-the-total-amount-and-25-times-40-is-equal-to-1000-and-that-is-the-exact-number-of-property-listings-that-we-got.">We got 25 pages, which is the total amount and 25 times 40 is equal to 1000 and that is the exact number of property listings that we got.<a class="anchor-link" href="#We-got-25-pages,-which-is-the-total-amount-and-25-times-40-is-equal-to-1000-and-that-is-the-exact-number-of-property-listings-that-we-got."> </a></h4><h4 id="We-can-just-add-more-municipalities-and-to-the-'municipality'-list-and-it-will-collect-all-the-data-for-us.">We can just add more municipalities and to the 'municipality' list and it will collect all the data for us.<a class="anchor-link" href="#We-can-just-add-more-municipalities-and-to-the-'municipality'-list-and-it-will-collect-all-the-data-for-us."> </a></h4><h4 id="Then-we-can-save-the-dataframe-as-shown-before-as-CSV-file-and-read-the-CSV-into-Pandas-to-start-cleaning-and-analyzing-the-data.">Then we can save the dataframe as shown before as CSV file and read the CSV into Pandas to start cleaning and analyzing the data.<a class="anchor-link" href="#Then-we-can-save-the-dataframe-as-shown-before-as-CSV-file-and-read-the-CSV-into-Pandas-to-start-cleaning-and-analyzing-the-data."> </a></h4><h4 id="Lastly,-I-want-to-show-that-it-can-work-for-different-municipalities,-but-I-will-hard-code-it-to-take-the-first-2-pages-of-each-so-it-will-show-that-it-can-do-the-job-as-it-should.">Lastly, I want to show that it can work for different municipalities, but I will hard code it to take the first 2 pages of each so it will show that it can do the job as it should.<a class="anchor-link" href="#Lastly,-I-want-to-show-that-it-can-work-for-different-municipalities,-but-I-will-hard-code-it-to-take-the-first-2-pages-of-each-so-it-will-show-that-it-can-do-the-job-as-it-should."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">municipality</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;7o9qpr&#39;</span><span class="p">,</span> <span class="s1">&#39;7o9q5q&#39;</span><span class="p">,</span> <span class="s1">&#39;7o9qs2&#39;</span><span class="p">]</span>
<span class="n">municipality_translation</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Sofia City&#39;</span><span class="p">,</span> <span class="s1">&#39;Veliko Tarnovo&#39;</span><span class="p">,</span> <span class="s1">&#39;Varna&#39;</span><span class="p">]</span>

<span class="n">last_page_number</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">property_list</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">municipality</span><span class="p">)):</span>    
<span class="c1">#     for j in range(0, int(last_page_number[0])):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Page number: </span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">municipality_translation</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">search</span> <span class="o">=</span> <span class="n">modified_extract</span><span class="p">(</span><span class="n">j</span><span class="p">,</span> <span class="n">municipality</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="n">modified_transform</span><span class="p">(</span><span class="n">search</span><span class="p">)</span>
      
    
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">property_list</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">last_page_number</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Page number: 0 - Sofia City
Page number: 1 - Sofia City
Page number: 0 - Veliko Tarnovo
Page number: 1 - Veliko Tarnovo
Page number: 0 - Varna
Page number: 1 - Varna
240
[25, 25, 25, 25, 25, 25]
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="We-can-still-check-the-results-and-make-sure-that-everything-is-working-fine.-6-*-40-=-240.-That-is-obvious,-but-let's-check-what-are-the-municipality-names.">We can still check the results and make sure that everything is working fine. 6 * 40 = 240. That is obvious, but let's check what are the municipality names.<a class="anchor-link" href="#We-can-still-check-the-results-and-make-sure-that-everything-is-working-fine.-6-*-40-=-240.-That-is-obvious,-but-let's-check-what-are-the-municipality-names."> </a></h4>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># this one doesn&#39;t have the pronunciation written down, which we do not need.</span>

<span class="k">def</span> <span class="nf">basic_translation_list</span><span class="p">(</span><span class="n">text_for_translation</span><span class="p">,</span> <span class="n">target_language</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Basic function introducing &#39;google_trans_new&#39;.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># We instantiate &#39;google_translator&#39; object called &#39;translator&#39;</span>
    <span class="n">translator</span> <span class="o">=</span> <span class="n">google_translator</span><span class="p">(</span><span class="n">url_suffix</span><span class="o">=</span><span class="s2">&quot;bg&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    
    <span class="c1"># In the brackets we put the text we need translated first, then we define &#39;lang_tgt&#39; parameter</span>
    <span class="c1"># that is used to tell to what language we need to translate the original text</span>
    <span class="n">translate</span> <span class="o">=</span> <span class="n">translator</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">text_for_translation</span><span class="p">,</span>
                                     <span class="n">lang_tgt</span> <span class="o">=</span> <span class="n">target_language</span><span class="p">)</span> 
    
    <span class="k">return</span> <span class="nb">print</span><span class="p">(</span><span class="n">translate</span><span class="p">)</span>



<span class="k">def</span> <span class="nf">dictionary_into_dataframe</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    This function takes as an argument a dictionary and creates a DataFrame using Pandas.</span>
<span class="sd">    The function returns as a result the municipalities.</span>
<span class="sd">    &#39;&#39;&#39;</span>

    <span class="c1"># We instantiate a DataFrame object</span>
    <span class="n">dataframe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dictionary</span><span class="p">)</span>
    
    <span class="c1"># We take only the &#39;location&#39; column for translation</span>
    <span class="n">dataframe_unique_locations</span> <span class="o">=</span> <span class="n">dataframe</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
    
    <span class="c1"># The actual translation</span>
    <span class="n">translation</span> <span class="o">=</span> <span class="n">basic_translation_list</span><span class="p">(</span><span class="n">dataframe_unique_locations</span><span class="p">,</span> <span class="s1">&#39;en&#39;</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">translation</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dictionary_into_dataframe</span><span class="p">(</span><span class="n">property_list</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[&#39;city Sofia, Banishora&#39; &#39;city Sofia, Vitosha&#39; &#39;city Sofia, Vrabnitsa 1&#39;
 &#39;city of Sofia, Geo Milev&#39; &#39;city Sofia, Dianabad&#39; &#39;city Sofia, Dragalevtsi&#39;
 &#39;city of Sofia, Darvenica&#39; &#39;city Sofia, Lozenets&#39; &#39;city Sofia, Lyulin 5&#39;
 &#39;city of Sofia, Lyulin 7&#39; &#39;city Sofia, Malinova Valley&#39;
 &#39;city of Sofia, Manastirski livadi&#39; &#39;city Sofia, Mladost 1&#39;
 &#39;city of Sofia, Mladost 3&#39; &#39;city Sofia, Mladost 4&#39;
 &#39;city of Sofia, modern suburb&#39; &#39;city Sofia, Hope 1&#39;
 &#39;city of Sofia, Obelya 2&#39; &#39;city Sofia, Ovcha Kupel 1&#39; &#39;city Sofia, Pavlovo&#39;
 &#39;city of Sofia, Poduyane&#39; &#39;city Sofia, the Holy Trinity&#39; &#39;city Sofia, Slatina&#39;
 &#39;city. Elena, Veliko Tarnovo region &#39;&#39; gr. Zlataritsa, Veliko Tarnovo region
 &#39;city. Pavlikeni, Veliko Tarnovo region
 &#39;city. Polski Trambesh, Veliko Tarnovo region
 &#39;s. Balvan, Veliko Tarnovo region &#39;&#39; s. Bridkovtsi, Veliko Tarnovo region
 &#39;s. Julyunitsa, Veliko Tarnovo region
 &#39;s. The camps, Veliko Tarnovo region Ledenik, Veliko Tarnovo region
 &#39;s. Lesichari, Veliko Tarnovo Region &#39;&#39; Pales, Veliko Tarnovo Region
 &#39;s. Samepage, Veliko Tarnovo Region
 &#39;s. Hotnitsa, Veliko Tarnovo region &#34; Novo selo, Veliko Tarnovo region
 &#39;city. Gorna Oryahovitsa, Veliko Tarnovo region
 &#39;city. Debelets, Veliko Tarnovo region
 &#39;city. White church, Veliko Tarnovo region &#34; Byala, Varna Region
 &#39;kk Kamchia, Varna Region &#39;&#39; Valchi Dol, Varna Region &#39;
 &#39;city. Provadia, Varna Region &#39;&#39; s. Avren, Varna Region &#39;
 &#39;s. Gemini, Varna Region &#39;&#39; s. Bolagers, Varna Region &#39;
 &#39;s. General Kantardzhievo, Varna Region &#34; Oreshak, Varna Region &#39;
 &#39;s. Radevo, Varna Region &#39;&#39; Shkorpilovtsi, Varna Region &#39;
 &#39;s. Goritsa, Varna Region &#34;s. Chertricks, Varna Region &#39;
 &#39;city. Beloslav, Varna Region &#39;] 
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="If-we-take-a-second-and-look-at-the-result-we-have-from-the-cell-below-we-can-see-that-the-municipalities-listed-below-are-as-follows:-'city-of-Sofia',-'Veliko-Tarnovo-region'-and-'Varna-Region'.-That-means-that-the-Web-scraper-is-doing-exactly-what-we-want.">If we take a second and look at the result we have from the cell below we can see that the municipalities listed below are as follows: 'city of Sofia', 'Veliko Tarnovo region' and 'Varna Region'. That means that the Web scraper is doing exactly what we want.<a class="anchor-link" href="#If-we-take-a-second-and-look-at-the-result-we-have-from-the-cell-below-we-can-see-that-the-municipalities-listed-below-are-as-follows:-'city-of-Sofia',-'Veliko-Tarnovo-region'-and-'Varna-Region'.-That-means-that-the-Web-scraper-is-doing-exactly-what-we-want."> </a></h4><h4 id="The-main-task-that-we-have-specified-in-the-beginning-of-this-Jupyter-Notebook-is-now-accomplished.-That-doesn't-mean-that-we-still-do-not-have-work-to-do-for-the-data-that-we-have-extracted,-but-this-is-for-another-Jupyter-Notebook.">The main task that we have specified in the beginning of this Jupyter Notebook is now accomplished. That doesn't mean that we still do not have work to do for the data that we have extracted, but this is for another Jupyter Notebook.<a class="anchor-link" href="#The-main-task-that-we-have-specified-in-the-beginning-of-this-Jupyter-Notebook-is-now-accomplished.-That-doesn't-mean-that-we-still-do-not-have-work-to-do-for-the-data-that-we-have-extracted,-but-this-is-for-another-Jupyter-Notebook."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Thank-you-very-much-for-your-attention-and-time.">Thank you very much for your attention and time.<a class="anchor-link" href="#Thank-you-very-much-for-your-attention-and-time."> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Kind-regards,">Kind regards,<a class="anchor-link" href="#Kind-regards,"> </a></h4><h4 id="Mladen">Mladen<a class="anchor-link" href="#Mladen"> </a></h4>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="-"> <a class="anchor-link" href="#-"> </a></h3>
</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="mrt5010v/Fastpages-Portfolio"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/Fastpages-Portfolio/data%20science/data%20engineering/web%20scraper/beautiful%20soup/translation/2022/03/18/Web-Scraping-Property-Listings-Project.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/Fastpages-Portfolio/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/Fastpages-Portfolio/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/Fastpages-Portfolio/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Welcome to my Data Science and Machine Learning Portfolio!</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"></ul>
</div>

  </div>

</footer>
</body>

</html>
